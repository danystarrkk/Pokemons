document.addEventListener("DOMContentLoaded",(()=>{const t=document.getElementById("nav");var e="";["Generation 1","Generation 2","Generation 3","Generation 4","Generation 5","Generation 6","Generation 7"].forEach(((t,n)=>{e+=`<input name="option" class="option" id="${n+1}" type="radio"></input> <label for="${n+1}">${t}</label>`})),t.innerHTML=e;async function n(t){const e=document.querySelector(".main");let n="",o=`https://pokeapi.co/api/v2/generation/${t}/`,r=[];r=await(async t=>{let e;try{const n=await fetch(t,{method:"GET",headers:{"Content-Type":"aplication/json"}});e=await n.json()}catch(t){console.log("Error en la comunicaciÃ³n")}return e.pokemon_species})(o),r.sort(((t,e)=>t.url.substring(t.url.lastIndexOf("s/")+2,t.url.lastIndexOf("/"))-e.url.substring(e.url.lastIndexOf("s/")+2,e.url.lastIndexOf("/")))),r.forEach(((t,e)=>{n+=`\n      <div class="contPokemon"> \n        <h3 class="pokemonName">${t.name}</h3> \n        <div class="contentImg"></div>\n      </div>`})),e.innerHTML=n;const a=new IntersectionObserver(((t,e)=>{t.forEach((t=>{if(t.isIntersecting){const o=t.target;var n=o.getAttribute("data-image");o.src=n,e.unobserve(o)}}))}));const s=document.querySelectorAll(".contentImg");r.forEach(((t,e)=>{let n=t.url.substring(t.url.lastIndexOf("s/")+2,t.url.lastIndexOf("/")),o=new Image;o.setAttribute("src","https://i.ibb.co/b4HPfpw/4xjS.gif"),o.setAttribute("data-image","https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/"+n+".png"),o.setAttribute("class","pokemonimg"),o.setAttribute("alt",t.name),o.setAttribute("loading","lazy"),o.setAttribute("width","70px"),o.setAttribute("height","70px"),s[e].appendChild(o),a.observe(o)}))}let o=document.querySelectorAll(".option"),r=1;o.forEach(((t,e)=>{n(r),t.onclick=()=>{r=e+1,n(r)}}))}));